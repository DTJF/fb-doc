Files and Folders  {#PagFiles}
=================
\tableofcontents

fb-doc operates on input and generates output. Both can either be
related to pipe streams (StdIn and StdOut) or to files. The run mode
determines which input to get, where to get it from and where to write
the output at, see \ref SecTabRunModi for an overview and links to
detailed informations.

This chapter contains detailed informations on the different file types
used by fc-doc for input or output. Here's a grafical overview

![Files used or generated by fb-doc](Overview.png)


Input  {#SecInput}
=====

Input files get read in all run modes except \ref SubSecModGeany. At
least one file of the first catagory (*.bas / *.bi) is used in any
case. The other files are used by specific emitters and run modes.


*.bas / *.bi  {#SubSecBasBi}
------------

The standard input of fb-doc is FreeBASIC source code, stored in files
with the suffix *.bas or *.bi. The Parser is designed to operate on
this files, calling the related emitter functions. So fb-doc uses at
least one of those files in each run (except when getting input from
StdIn in \ref SubSecModGeany).


fb-doc.lfn  {#SubSecInLfn}
----------

This file is an input file for the emitter \ref SecEmmCSource when
running in mode \ref SubSecModDefault. It gets generated by fb-doc in
run mode \ref SubSecModList with default emitter \ref SecEmmLfn.

\note Using an other emitter to generate this file doesn't make sense.
      That will break the file function.

When fb-doc runs as a Doxygen filter (default mode), it gets called for
a single input file and pipes output to StdOut. In order to generate
caller / callee graphs by Doxygen, the function bodies must contain the
function calls.

To generate those function calls in the intermediate format, fb-doc
checks the words in a function body. If a word is a symbol (no keyword),
it can either be an array or a function call, fb-doc needs further
information to determine the correct type and to make the decision if
to function call should generated in the output stream for that word.

Since the symbol may be defined in an other file in the source tree and
fb-doc operates on a single file only, the names of the functions in
all source files get read from an external file. When a symbol found in
a function body matches an entry in this file fb-doc.lfn, a function
call gets generated in the output stream. (This is a pseudo call with
empty parameter list.)


Doxyfile  {#SubSecDoxyfile}
--------

This file is designed and used as configuration file for Doxygen. The
fb-doc emitter \ref SecEmmSyntax also reads informations from that
file when running in mode \ref SubSecModSyntax

- \ref SubSecModList reads the path of the FB source input and the
  setting if this path should get scanned recursivly.

- \ref SubSecModSyntax additionaly reads the output types (html, tex
  ,xml) and the paths for the output, in order to find the original
  Doxygen output and replace it by updates with corrected syntax
  highlighting.

Find details in the description of function Highlighter.doDoxy().

\note Only the first source path get read from the file Doxyfile, so
      make sure that the path to the FB source code is at first place
      when you've more than one path in the list.


*.html  {#SubSecInHtml}
------

In run mode \ref SubSecModSyntax fb-doc reads special html files
generated by Doxygen, containing the source code listings. Those files
contain links to the description text for symbols in the source. This
information gets extract from the original files and copied to the
newly generated files with correct syntax highlighting. During this
process, temporary files are generated, named after the original file
name mangled by an underscore (= suffix .html_).


*.tex  {#SubSecInTex}
-----

In run mode \ref SubSecModSyntax fb-doc reads special tex files
generated by Doxygen, containing the source code listings. Those files
contain links to the description text for symbols in the source. This
information gets extract from the original files and copied to the
newly generated files with correct syntax highlighting. During this
process, temporary files are generated, named after the original file
name mangled by an underscore (= suffix .tex_).


*.xml  {#SubSecInXml}
-----

In run mode \ref SubSecModSyntax fb-doc reads special xml files
generated by Doxygen, containing the source code listings. Those files
contain links to the description text for symbols in the source. This
information gets extract from the original files and copied to the
newly generated files with correct syntax highlighting. During this
process, temporary files are generated, named after the original file
name mangled by an underscore (= suffix .xml_).


*.so / *.dll  {#SubSecInModules}
------------

Those files are (optional) input files containing external emitter
modules. They are executable binaries (object files) generated by any
compiler and linked as a shared library, see \ref PagExtend for
details.

The suffix depends on the operation system in use (LINUX = *.so, others
= *.dll).

An external emitter can get used in any run mode. It gets specified by
option \ref SubSecOptEmitter.

\note In order to avoid confusion, external emitters shouldn't have
      file names like the internal emitter names.


Output  {#SecOutput}
======

Output files get generated by fb-doc depending on the run mode. The
context of the output files depend on the emitter in use. In case of a
customized emitter setting (option \ref SubSecOptEmitter) make sure
that the emitter generates reasonable context for the output files
specified by the given run mode (find an overview in table \ref
SecTabOverview).


*.c / *.h  {#SubSecOutCH}
---------

Those files get generated in run mode \ref SubSecModFile by emitter
\ref SecEmmCSource. They contain the C-like intermediate format,
transformed from the FB source input. The base file name stays
unchanged, and files with suffix *.bas get transformed to *.c, all other
input files get transformed to *.h.

By default those files get written to the path *../c_src*. Override the
default setting by option \ref SubSecOptPath.


fb-doc.lfn  {#SubSecOutLfn}
----------

Those file gets generated in run mode \ref SubSecModList by emitter
\ref SecEmmLfn. It contains the list of function names, used by the
emitter \ref SecEmmCSource. fb-doc searches for that file in current
path, so place (and generate) it near the Doxygen configuration file
(usualy named Doxyfile).


*.html  {#SubSecOutHtml}
------

Those files get generated in run mode \ref SubSecModSyntax by emitter
\ref SecEmmSyntax when the tags `GENERATE_HTML` and `SOURCE_BROWSER`
are both set to `YES`.

They contain a chapter with the source code listing of a FB file. The
outputs header and footer is copied from the original Doxygen output.
The middle part, which contains the C-like intermediate format in the
original output, gets replaced by the real FB source code with correct
syntax highlighting.

For this process, the input files are searched in the path specified by
the tags `OUTPUT_DIRECTORY` and `HTML_OUTPUT`. Before the output
overrides the original file, a temporary file with suffix `*.html_`
gets generated by the emitter in that folder.


*.tex  {#SubSecOutTex}
-----

Those files get generated in run mode \ref SubSecModSyntax by emitter
\ref SecEmmSyntax. They contain a page with the source code listing of
a FB file when the tags `GENERATE_LATEX` and `LATEX_SOURCE_CODE` are
both set to `YES`.

They contain a chapter with the source code listing of a FB file. The
outputs header and footer is copied from the original Doxygen output.
The middle part, which contains the C-like intermediate format in the
original output, gets replaced by the real FB source code with correct
syntax highlighting.

For this process, the input files are searched in the path specified by
the tags `OUTPUT_DIRECTORY` and `LATEX_OUTPUT`. Before the output
overrides the original file, a temporary file with suffix `*.tex_` gets
generated by the emitter in that folder.


*.xml  {#SubSecOutXml}
-----

Those files get generated in run mode \ref SubSecModSyntax by emitter
\ref SecEmmSyntax when the tags `GENERATE_XML` and `XML_PROGRAMLISTING`
are both set to `YES`.

They contain a chapter with the source code listing of a FB file. The
outputs header and footer is copied from the original Doxygen output.
The middle part, which contains the C-like intermediate format in the
original output, gets replaced by the real FB source code with correct
syntax highlighting.

For this process, the input files are searched in the path specified by
the tags `OUTPUT_DIRECTORY` and `XML_OUTPUT`. Before the output
overrides the original file, a temporary file with suffix `*.tex_` gets
generated by the emitter in that folder.











fb-doc currently uses two external files. It tries to load the
context when needed and continues without the context when the files
aren't present. fb-doc searches for the files in the EXEPATH (the
folder of the fb-doc binary).

\section sectFileCsrc ../doc/c_src

This folder gets created by fb-doc to write the file output. It's
used to collect the translations from the \em C_Source emitter. The
back-end read its input from here.

\section sectFileLfn fb-doc.lfn

The suffix lfn means list of function names. This file is used in the
C_Source emitter to create pseudo function calls in a function body. It
gets created by the ListOfFunction emitter when using (option
Â´--list-mode`) and it isn't used in Geany mode (option `--geany-mode`,
emitters GtkDocTemplates and DoxygenTemplates).

Allthough it's usually created by fb-doc, it also can get
manipulated by any text editor.

The file contains the names of all functions in the source code.
Member functions of a UDT are listed as they are named in the
function body (ie TypeName.FunctionName). The first line is empty.
Further lines contain the names, one in each line, including the dot
in case of a member function. The lines \b must be separated by a
single line feed character (LINUX line end = 'CHR(10)'). So be
careful when we edit on DOS / windows (ie use Geany and switch to
LF line ends).

This file is needed when running as a filter for Doxygen to create
the caller and callees graphs. Therefor the bodys of the function
have to include the function calls. fb-doc checks all words in a
function body against the known function names. Any match gets
emitted as a pseudo function call (with empty parameter list).

Since in this mode Doxygen serves the file names in any order and
fb-doc gets started new for each file, it doesn't know about a
function declaration from file A when working on file B. Therefor the
function names have to be served from an external source. They get
red from this file at each program start.

The file offers an additional way to control the context of the caller
and callees graphs. Only functions listed in this file gets included
in the C source (and in the graphs).

When this file isn't present fb-doc continues execution without any
message and the function bodys of the pseudo C code are empty. This
means no caller or callees graphs will be created.


\section sectFilePlugin External Moduls (*.so / *.dll)

fb-doc can use external emitter modules. These are executable
binaries, compiled and linked as a library for dynamic linkage,
either by using the FreeBasic compiler or any other compiler / linker
combination. These files may have any name and get the system
specific file name extension (= suffix) \em .so on LINUX or \em .dll
on windows.

Such files aren't necessary for basic usage of fb-doc. They are used
for external emitters to extend the fb-doc features and get loaded on
demand (option `--emitter`) at run-time, see \ref PagExtend for
details. So you may have one or more files with one of these
suffixes in your working directory.
